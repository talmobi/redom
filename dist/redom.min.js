!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t,n,r){var i=e.el||e,o=t.el||t;return b(o)&&(o=o.el),t===o&&o.__redom_view&&(t=o.__redom_view),t!==o&&(o.__redom_view=t),r||(t.isMounted?(t.remount&&t.remount(),s(t,"remount",e)):(t.mount&&t.mount(),s(t,"mount",e))),n?i.insertBefore(o,n.el||n):i.appendChild(o),r||(t.isMounted?(t.remounted&&t.remounted(),s(t,"remounted",e)):(t.isMounted=!0,t.mounted&&t.mounted(),s(t,"mounted",e))),t}function n(e,n,r){return t(e,n,r)}function r(e,t){var n=e.el||e,r=t.el||t;return t===r&&r.__redom_view&&(t=r.__redom_view),s(t,"unmount",e,!0),t.unmount&&t.unmount(),n.removeChild(r),s(t,"unmounted",e,!0),t.isMounted=!1,t.unmounted&&t.unmounted(),t}function i(e,t,n){var r=e.el||e;if(arguments.length>2)r.style[t]=n;else if(_(t))r.setAttribute("style",t);else for(var o in t)i(r,o,t[o])}function o(e,t,n){var r=e.el||e,u=r instanceof window.SVGElement;if(arguments.length>2)"style"===t?i(r,n):u&&g(n)?r[t]=n:!u&&(t in r||g(n))?r[t]=n:r.setAttribute(t,n);else for(var s in t)o(r,s,t[s])}function u(e,n){for(var r=0;r<n.length;r++){var i=n[r];i&&("function"==typeof i?i(e):_(i)||p(i)?e.appendChild(m(i)):y(i)||y(i.el)||b(i.el)?t(e,i,void 0,!0):i.length?u(e,i):"object"==typeof i&&o(e,i))}}function s(e,t,n,r){for(var i=e.el||e,o=i.firstChild;o;){var u=o.nextSibling,d=o.__redom_view||o,l=d[t];r&&s(o,t,n||e,r),l&&l.call(d,n||e),!r&&s(o,t,n||e,r),o=u}}function d(e,t){for(var n,r,i,o=0,u=0,s=0;s<=e.length;s++){var d=e.charCodeAt(s);if(d===A||d===C||!d){if(0===o)n=0===s?"div":d?e.substring(u,s):e;else{var l=e.substring(u,s);1===o?r=l:i?i+=" "+l:i=l}u=s+1,o=d===A?1:2}}var f=t?x.createElementNS(t,n):x.createElement(n);return r&&(f.id=r),i&&(t?f.setAttribute("class",i):f.className=i),f}function l(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var r;if(_(e))r=S(e).cloneNode(!1);else{if(!y(e))throw new Error("At least one argument required");r=e.cloneNode(!1)}return u(r,t),r}function f(e,t){if(void 0===t.length)return f(e,[t]);for(var i=e.el||e,o=i.firstChild,u=0;u<t.length;u++){var s=t[u];if(s){var d=s.el||s;b(d)&&(d=d.el),d!==o?n(e,s,o):o=o.nextSibling}}for(;o;){var l=o.nextSibling;r(e,o),o=l}}function a(e,t,n,r){return new v(e,t,n,r)}function v(e,t,n,r){this.__redom_list=!0,this.View=t,this.key=n,this.initData=r,this.views=[],this.el=_(e)?l(e):e,n&&(this.lookup={})}function h(e,t){return new E(e,t)}function c(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var r;if(_(e))r=j(e).cloneNode(!1);else{if(!y(e))throw new Error("At least one argument required");r=e.cloneNode(!1)}return u(r,t),r}var m=function(e){return x.createTextNode(e)},w=function(e){return function(t){return typeof t===e}},_=w("string"),p=w("number"),g=w("function"),y=function(e){return e&&e.nodeType},b=function(e){return e&&e.__redom_list},x=document,A="#".charCodeAt(0),C=".".charCodeAt(0),N={},S=function(e){return N[e]||d(e)};l.extend=function(e){var t=S(e);return l.bind(this,t)};var k=l;v.extend=function(e,t,n,r){return v.bind(v,e,t,n,r)},a.extend=v.extend,v.prototype.update=function(e){void 0===e&&(e=[]);for(var t=this.View,n=this.key,r=g(n),i=this.initData,o=new Array(e.length),u=this.views,s=n&&{},d=n&&this.lookup,l=0;l<e.length;l++){var a=e[l],v=void 0;if(n){var h=r?n(a):a[n];v=o[l]=d[h]||new t(i,a,l,e),s[h]=v,v.__id=h}else v=o[l]=u[l]||new t(i,a,l,e);var c=v.el;c.__redom_list&&(c=c.el),c.__redom_view=v,v.update&&v.update(a,l,e)}f(this,o),n&&(this.lookup=s),this.views=o};var E=function(e,t){this.el=_(e)?l(e):e,this.Views=t};E.prototype.update=function(e,t){if(e!==this.route){var n=this.Views,r=n[e];this.view=r&&new r,this.route=e,f(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t)};var M="http://www.w3.org/2000/svg",V={},j=function(e){return V[e]||d(e,M)};c.extend=function(e){var t=j(e);return c.bind(this,t)},e.el=l,e.html=k,e.list=a,e.List=v,e._mount=t,e.mount=n,e.unmount=r,e.router=h,e.Router=E,e.setAttr=o,e.setStyle=i,e.setChildren=f,e.svg=c,e.text=m,Object.defineProperty(e,"__esModule",{value:!0})});