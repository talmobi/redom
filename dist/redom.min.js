!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t,i){n(e,t,i)}function n(e,t,n){var i=e.el||e,r=t.el||t;return x(r)&&(r=r.el),t===r&&r.__redom_view&&(t=r.__redom_view),t!==r&&(r.__redom_view=t),t.isMounted?t.remount&&t.remount():t.mount&&t.mount(),n?i.insertBefore(r,n.el||n):i.appendChild(r),t.isMounted?t.remounted&&w(function(){t.remounted()}):(t.isMounted=!0,t.mounted&&w(function(){t.mounted()})),t}function i(e,t){var n=e.el||e,i=t.el||t;return t===i&&i.__redom_view&&(t=i.__redom_view),t.unmount&&t.unmount(),n.removeChild(i),t.isMounted=!1,t.unmounted&&w(function(){t.unmounted()}),t}function r(e,t,n){var i=e.el||e;if(arguments.length>2)i.style[t]=n;else if(p(t))i.setAttribute("style",t);else for(var o in t)r(i,o,t[o])}function o(e,t,n){var i=e.el||e,u=i instanceof window.SVGElement;if(arguments.length>2)"style"===t?r(i,n):u&&y(n)?i[t]=n:!u&&(t in i||y(n))?i[t]=n:i.setAttribute(t,n);else for(var s in t)o(i,s,t[s])}function u(e,n){for(var i=0;i<n.length;i++){var r=n[i];r&&("function"==typeof r?r(e):p(r)||g(r)?e.appendChild(v(r)):b(r)||b(r.el)||x(r.el)?t(e,r):r.length?u(e,r):"object"==typeof r&&o(e,r))}}function s(e,t){for(var n,i,r,o=0,u=0,s=0;s<=e.length;s++){var f=e.charCodeAt(s);if(f===C||f===N||!f){if(0===o)n=0===s?"div":f?e.substring(u,s):e;else{var l=e.substring(u,s);1===o?i=l:r?r+=" "+l:r=l}u=s+1,o=f===C?1:2}}var d=t?A.createElementNS(t,n):A.createElement(n);return i&&(d.id=i),r&&(t?d.setAttribute("class",r):d.className=r),d}function f(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var i;if(p(e))i=E(e).cloneNode(!1);else{if(!b(e))throw new Error("At least one argument required");i=e.cloneNode(!1)}return u(i,t),i}function l(e,n){if(void 0===n.length)return l(e,[n]);for(var r=e.el||e,o=r.firstChild,u=0;u<n.length;u++){var s=n[u];if(s){var f=s.el||s;x(f)&&(f=f.el),f!==o?t(e,s,o):o=o.nextSibling}}for(;o;){var d=o.nextSibling;i(e,o),o=d}}function d(e,t,n,i){return new a(e,t,n,i)}function a(e,t,n,i){this.__redom_list=!0,this.View=t,this.key=n,this.initData=i,this.views=[],this.el=p(e)?f(e):e,n&&(this.lookup={})}function h(e,t){return new S(e,t)}function c(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var i;if(p(e))i=T(e).cloneNode(!1);else{if(!b(e))throw new Error("At least one argument required");i=e.cloneNode(!1)}return u(i,t),i}var v=function(e){return A.createTextNode(e)},m=[],w=function(e){m.length||setTimeout(function(){for(var e=0;e<m.length;e++)m[e]();m=[]},0),m.push(e)},_=function(e){return function(t){return typeof t===e}},p=_("string"),g=_("number"),y=_("function"),b=function(e){return e&&e.nodeType},x=function(e){return e&&e.__redom_list},A=document,C="#".charCodeAt(0),N=".".charCodeAt(0),k={},E=function(e){return k[e]||s(e)};f.extend=function(e){var t=E(e);return f.bind(this,t)};var M=f;a.extend=function(e,t,n,i){return a.bind(a,e,t,n,i)},d.extend=a.extend,a.prototype.update=function(e){void 0===e&&(e=[]);for(var t=this.View,n=this.key,i=y(n),r=this.initData,o=new Array(e.length),u=this.views,s=n&&{},f=n&&this.lookup,d=0;d<e.length;d++){var a=e[d],h=void 0;if(n){var c=i?n(a):a[n];h=o[d]=f[c]||new t(r,a,d,e),s[c]=h,h.__id=c}else h=o[d]=u[d]||new t(r,a,d,e);var v=h.el;v.__redom_list&&(v=v.el),v.__redom_view=h,h.update&&h.update(a,d,e)}l(this,o),n&&(this.lookup=s),this.views=o};var S=function(e,t){this.el=p(e)?f(e):e,this.Views=t};S.prototype.update=function(e,t){if(e!==this.route){var n=this.Views,i=n[e];this.view=i&&new i,this.route=e,l(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t)};var V="http://www.w3.org/2000/svg",j={},T=function(e){return j[e]||s(e,V)};c.extend=function(e){var t=T(e);return c.bind(this,t)},e.mount=t,e.unmount=i,e.el=f,e.html=M,e.list=d,e.List=a,e.router=h,e.Router=S,e.setAttr=o,e.setStyle=r,e.setChildren=l,e.svg=c,e.text=v,Object.defineProperty(e,"__esModule",{value:!0})});